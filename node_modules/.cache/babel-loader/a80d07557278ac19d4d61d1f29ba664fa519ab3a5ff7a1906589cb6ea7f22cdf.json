{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{fetchProducts}from'../redux/actions/productActions';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{const dispatch=useDispatch();const{products,loading,error}=useSelector(state=>state.products);const{user}=useSelector(state=>state.auth);const[search,setSearch]=useState('');const[category,setCategory]=useState('');useEffect(()=>{dispatch(fetchProducts());},[dispatch]);const handleSearch=e=>{e.preventDefault();dispatch(fetchProducts({search,category}));};const handleClearSearch=()=>{setSearch('');setCategory('');dispatch(fetchProducts());};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Our E-commerce Store\"})}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:\"Cart\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"}),user&&user.role==='trader'&&/*#__PURE__*/_jsx(Link,{to:\"/trader-dashboard\",children:\"Trader Dashboard\"})]}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Our Products\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"search-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:search,onChange:e=>setSearch(e.target.value),placeholder:\"Search products\"}),/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:e=>setCategory(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"category1\",children:\"Category 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"category2\",children:\"Category 2\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleClearSearch,children:\"Clear Search\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"}):error?/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[\"Error: \",error]}):products.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No products found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[product.image&&/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name}),/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsx(\"p\",{children:product.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"$\",product.price.toFixed(2)]}),/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(product._id),className:\"btn\",children:\"View Details\"})]},product._id))})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xA9 \",new Date().getFullYear(),\" E-commerce Store. All rights reserved.\"]})})]});};export default HomePage;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","fetchProducts","Link","jsx","_jsx","jsxs","_jsxs","HomePage","dispatch","products","loading","error","state","user","auth","search","setSearch","category","setCategory","handleSearch","e","preventDefault","handleClearSearch","className","children","to","role","onSubmit","type","value","onChange","target","placeholder","onClick","length","map","product","image","src","alt","name","description","price","toFixed","concat","_id","Date","getFullYear"],"sources":["C:/Users/PC/Documents/ecommerce-frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchProducts } from '../redux/actions/productActions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst HomePage = () => {\r\n  const dispatch = useDispatch();\r\n  const { products, loading, error } = useSelector((state) => state.products);\r\n  const { user } = useSelector((state) => state.auth);\r\n  const [search, setSearch] = useState('');\r\n  const [category, setCategory] = useState('');\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchProducts());\r\n  }, [dispatch]);\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    dispatch(fetchProducts({ search, category }));\r\n  };\r\n\r\n  const handleClearSearch = () => {\r\n    setSearch('');\r\n    setCategory('');\r\n    dispatch(fetchProducts());\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <header>\r\n        <h1>Welcome to Our E-commerce Store</h1>\r\n      </header>\r\n      <nav>\r\n        <Link to=\"/\">Home</Link>\r\n        <Link to=\"/cart\">Cart</Link>\r\n        <Link to=\"/login\">Login</Link>\r\n        <Link to=\"/register\">Register</Link>\r\n        {user && user.role === 'trader' && (\r\n          <Link to=\"/trader-dashboard\">Trader Dashboard</Link>\r\n        )}\r\n      </nav>\r\n      <main>\r\n        <h2>Our Products</h2>\r\n        <form onSubmit={handleSearch} className=\"search-form\">\r\n          <input\r\n            type=\"text\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            placeholder=\"Search products\"\r\n          />\r\n          <select value={category} onChange={(e) => setCategory(e.target.value)}>\r\n            <option value=\"\">All Categories</option>\r\n            <option value=\"category1\">Category 1</option>\r\n            <option value=\"category2\">Category 2</option>\r\n          </select>\r\n          <button type=\"submit\">Search</button>\r\n          <button type=\"button\" onClick={handleClearSearch}>Clear Search</button>\r\n        </form>\r\n        {loading ? (\r\n          <div className=\"loading\">Loading...</div>\r\n        ) : error ? (\r\n          <div className=\"error\">Error: {error}</div>\r\n        ) : products.length === 0 ? (\r\n          <p>No products found.</p>\r\n        ) : (\r\n          <div className=\"product-grid\">\r\n            {products.map((product) => (\r\n              <div key={product._id} className=\"card\">\r\n                {product.image && <img src={product.image} alt={product.name} />}\r\n                <h3>{product.name}</h3>\r\n                <p>{product.description}</p>\r\n                <p className=\"price\">${product.price.toFixed(2)}</p>\r\n                <Link to={`/products/${product._id}`} className=\"btn\">View Details</Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </main>\r\n      <footer>\r\n        <p>&copy; {new Date().getFullYear()} E-commerce Store. All rights reserved.</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"const initialState = {\n  token: localStorage.getItem('token'),\n  isAuthenticated: null,\n  loading: false,\n  user: null,\n  error: null\n};\n\n// Helper function to remove the token from localStorage\nconst removeToken = () => {\n  localStorage.removeItem('token');\n};\n\n// Reducer function\nexport default function (state = initialState, action) {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case 'REGISTER_REQUEST':\n    case 'LOGIN_REQUEST':\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case 'REGISTER_SUCCESS':\n    case 'LOGIN_SUCCESS':\n      localStorage.setItem('token', payload.token);\n      return {\n        ...state,\n        token: payload.token,\n        user: payload.user,\n        isAuthenticated: true,\n        loading: false,\n        error: null\n      };\n    case 'REGISTER_FAILURE':\n    case 'LOGIN_FAILURE':\n      removeToken(); // Remove token on failure\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n        user: null,\n        error: {\n          message: payload.message || 'An error occurred during authentication',\n          details: payload.details || null\n        }\n      };\n    case 'LOGOUT':\n      removeToken(); // Remove token on logout\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n        user: null,\n        error: null\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["initialState","token","localStorage","getItem","isAuthenticated","loading","user","error","removeToken","removeItem","state","action","type","payload","setItem","message","details"],"sources":["C:/Users/PC/Documents/ecommerce-frontend/src/redux/reducers/authReducer.js"],"sourcesContent":["const initialState = {\r\n  token: localStorage.getItem('token'),\r\n  isAuthenticated: null,\r\n  loading: false,\r\n  user: null,\r\n  error: null\r\n};\r\n\r\n// Helper function to remove the token from localStorage\r\nconst removeToken = () => {\r\n  localStorage.removeItem('token');\r\n};\r\n\r\n// Reducer function\r\nexport default function(state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case 'REGISTER_REQUEST':\r\n    case 'LOGIN_REQUEST':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null\r\n      };\r\n      \r\n    case 'REGISTER_SUCCESS':\r\n    case 'LOGIN_SUCCESS':\r\n      localStorage.setItem('token', payload.token);\r\n      return {\r\n        ...state,\r\n        token: payload.token,\r\n        user: payload.user,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    case 'REGISTER_FAILURE':\r\n    case 'LOGIN_FAILURE':\r\n      removeToken(); // Remove token on failure\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        user: null,\r\n        error: {\r\n          message: payload.message || 'An error occurred during authentication',\r\n          details: payload.details || null\r\n        }\r\n      };\r\n\r\n    case 'LOGOUT':\r\n      removeToken(); // Remove token on logout\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        user: null,\r\n        error: null\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG;EACnBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACpCC,eAAe,EAAE,IAAI;EACrBC,OAAO,EAAE,KAAK;EACdC,IAAI,EAAE,IAAI;EACVC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACxBN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;AAClC,CAAC;;AAED;AACA,eAAe,UAASC,KAAK,GAAGV,YAAY,EAAEW,MAAM,EAAE;EACpD,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGF,MAAM;EAEhC,QAAQC,IAAI;IACV,KAAK,kBAAkB;IACvB,KAAK,eAAe;MAClB,OAAO;QACL,GAAGF,KAAK;QACRL,OAAO,EAAE,IAAI;QACbE,KAAK,EAAE;MACT,CAAC;IAEH,KAAK,kBAAkB;IACvB,KAAK,eAAe;MAClBL,YAAY,CAACY,OAAO,CAAC,OAAO,EAAED,OAAO,CAACZ,KAAK,CAAC;MAC5C,OAAO;QACL,GAAGS,KAAK;QACRT,KAAK,EAAEY,OAAO,CAACZ,KAAK;QACpBK,IAAI,EAAEO,OAAO,CAACP,IAAI;QAClBF,eAAe,EAAE,IAAI;QACrBC,OAAO,EAAE,KAAK;QACdE,KAAK,EAAE;MACT,CAAC;IAEH,KAAK,kBAAkB;IACvB,KAAK,eAAe;MAClBC,WAAW,CAAC,CAAC,CAAC,CAAC;MACf,OAAO;QACL,GAAGE,KAAK;QACRT,KAAK,EAAE,IAAI;QACXG,eAAe,EAAE,KAAK;QACtBC,OAAO,EAAE,KAAK;QACdC,IAAI,EAAE,IAAI;QACVC,KAAK,EAAE;UACLQ,OAAO,EAAEF,OAAO,CAACE,OAAO,IAAI,yCAAyC;UACrEC,OAAO,EAAEH,OAAO,CAACG,OAAO,IAAI;QAC9B;MACF,CAAC;IAEH,KAAK,QAAQ;MACXR,WAAW,CAAC,CAAC,CAAC,CAAC;MACf,OAAO;QACL,GAAGE,KAAK;QACRT,KAAK,EAAE,IAAI;QACXG,eAAe,EAAE,KAAK;QACtBC,OAAO,EAAE,KAAK;QACdC,IAAI,EAAE,IAAI;QACVC,KAAK,EAAE;MACT,CAAC;IAEH;MACE,OAAOG,KAAK;EAChB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}